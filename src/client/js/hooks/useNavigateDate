import { useNavigate } from 'react-router-dom';
import useUIStore from '../stores/useUIStore';
import { isValidDate } from '../other/utils';

function useNavigateDate() {
    let navigate = useNavigate();
    const date = useUIStore((state) => state.date);
    const setDate = useUIStore((state) => state.setDate);
    const navigateDate = to => {
        if (typeof to === 'undefined') {
            navigate(date);
        } else if (to !== date && isValidDate(to)) {
            setDate(to);
            navigate(to);
        }
    };
    
    return navigateDate;
  }

export default useNavigateDate;
